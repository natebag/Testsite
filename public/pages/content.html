<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Content Hub - Multi-Platform Integration | MLG.clan</title>
  
  <!-- Meta Tags -->
  <meta name="description" content="Content Hub - Submit and discover gaming content from YouTube, TikTok, Twitch, and more with AI-powered recommendations.">
  <meta name="keywords" content="content, gaming, youtube, tiktok, twitch, streaming, MLG, esports">
  <meta name="author" content="MLG.clan Development Team">
  
  <!-- Security Headers -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob:; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com https://unpkg.com https://cdn.socket.io; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; img-src 'self' data: blob: https:; connect-src 'self' wss: https: ws://localhost:3000; frame-src 'self' https://www.youtube.com https://player.twitch.tv https://www.tiktok.com; font-src 'self' data:;">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📱</text></svg>">
  
  <!-- External Dependencies -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  
  <!-- Socket.IO for Real-time Updates -->
  <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
  
  <!-- Solana Web3.js -->
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
  
  <!-- API Client -->
  <script type="module" src="../../src/shared/utils/api/mlg-api-client-consolidated.js"></script>
  <script type="module" src="../../src/core/websocket/mlg-websocket-manager.js"></script>
  
  <!-- Consolidated Wallet & Voting Integration -->
  <script type="module" src="../../src/shared/utils/wallet/mlg-wallet-init-consolidated.js"></script>
  <meta name="mlg-wallet-auto-init" content="true">

  <!-- Tailwind Configuration -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'gaming-bg': '#0a0a0f',
            'gaming-surface': '#1a1a2e',
            'gaming-accent': '#00ff88',
            'gaming-purple': '#8b5cf6',
            'gaming-blue': '#3b82f6',
            'gaming-yellow': '#fbbf24',
            'gaming-red': '#ef4444'
          },
          animation: {
            'pulse-neon': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'glow': 'glow 2s ease-in-out infinite alternate',
            'float': 'float 6s ease-in-out infinite'
          }
        }
      }
    }
  </script>
  
  <style>
    /* Gaming Theme Styles */
    :root {
      --neon-green: #00ff88;
      --neon-blue: #00ffff;
      --neon-purple: #8b5cf6;
      --dark-bg: #0a0a0f;
      --card-bg: #1a1a2e;
    }
    
    body {
      background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #0a0a0f 100%);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-x: hidden;
    }
    
    .neon-glow {
      box-shadow: 0 0 10px var(--neon-green), 0 0 20px var(--neon-green), 0 0 30px var(--neon-green);
      border: 1px solid var(--neon-green);
    }
    
    .card-glow {
      background: rgba(26, 26, 46, 0.95);
      border: 1px solid rgba(0, 255, 136, 0.2);
      backdrop-filter: blur(15px);
      transition: all 0.3s ease;
    }
    
    .card-glow:hover {
      border-color: rgba(0, 255, 136, 0.5);
      box-shadow: 0 0 20px rgba(0, 255, 136, 0.1);
      transform: translateY(-2px);
    }
    
    .platform-card {
      background: rgba(26, 26, 46, 0.95);
      border: 1px solid rgba(59, 130, 246, 0.2);
      backdrop-filter: blur(15px);
      transition: all 0.3s ease;
    }
    
    .platform-card:hover {
      border-color: rgba(59, 130, 246, 0.5);
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.1);
      transform: translateY(-2px);
    }
    
    .status-online {
      position: relative;
    }
    
    .status-online::before {
      content: '';
      position: absolute;
      top: -2px;
      right: -2px;
      width: 12px;
      height: 12px;
      background: var(--neon-green);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }
    
    @keyframes glow {
      from { box-shadow: 0 0 10px var(--neon-green); }
      to { box-shadow: 0 0 20px var(--neon-green), 0 0 30px var(--neon-green); }
    }
    
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
      100% { transform: translateY(0px); }
    }
  </style>
</head>
<body class="bg-gaming-bg text-white min-h-screen">
  
  <!-- Navigation Header -->
  <nav class="bg-black bg-opacity-60 backdrop-blur-md border-b border-gaming-accent border-opacity-20 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center">
          <div class="flex-shrink-0">
            <a href="index.html" onclick="handleNavigation(event, 'index.html')" class="text-2xl font-bold text-gaming-accent flex items-center space-x-2 hover:text-green-400 transition-colors">
              <span class="animate-pulse">🎮</span>
              <span>MLG.clan</span>
            </a>
          </div>
          <div class="hidden md:block ml-10">
            <div class="flex items-baseline space-x-4">
              <a href="index.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'index.html')">Dashboard</a>
              <a href="voting.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'voting.html')">Vote Vault</a>
              <a href="clans.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'clans.html')">Clans</a>
              <a href="content.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium bg-gaming-blue text-white transition-colors" onclick="handleNavigation(event, 'content.html')">Content Hub</a>
              <a href="dao.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'dao.html')">DAO</a>
              <a href="analytics.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'analytics.html')">Analytics</a>
            </div>
          </div>
        </div>
        
        <div class="flex items-center space-x-4">
          <!-- System Status -->
          <div id="system-status" class="flex items-center space-x-2">
            <div class="status-online">
              <i data-lucide="activity" class="w-4 h-4 text-gaming-accent"></i>
            </div>
            <span class="text-sm text-gaming-accent font-medium">All Systems Online</span>
          </div>
          
          <!-- Wallet Connection -->
          <button id="wallet-connect" class="bg-gaming-purple hover:bg-purple-600 px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2">
            <i data-lucide="wallet" class="w-4 h-4"></i>
            <span>Connect Phantom</span>
          </button>
          
          <!-- User Info (Hidden by default) -->
          <div id="user-info" class="hidden flex items-center space-x-3">
            <div class="flex items-center space-x-2 bg-gaming-surface px-3 py-1 rounded-lg">
              <div class="w-6 h-6 bg-gradient-to-r from-gaming-accent to-gaming-blue rounded-full"></div>
              <span id="user-address" class="text-sm font-mono"></span>
            </div>
            <div class="text-right">
              <div class="text-xs text-gray-400">MLG Balance</div>
              <div id="mlg-balance" class="text-sm font-bold text-gaming-yellow">0</div>
            </div>
            <a href="profile.html" onclick="handleNavigation(event, 'profile.html')" class="text-gray-300 hover:text-gaming-accent transition-colors">
              <i data-lucide="user" class="w-5 h-5"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Content Hub Header -->
  <section class="relative py-16 overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-gaming-bg via-gaming-surface to-gaming-bg opacity-50"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h1 class="text-5xl font-bold mb-6 text-gaming-blue animate-float">
        📱 Content Hub
      </h1>
      <p class="text-xl text-gray-300 mb-8 max-w-3xl mx-auto">
        Submit and discover gaming content from YouTube, TikTok, Twitch, and more with AI-powered recommendations.
      </p>
      
      <!-- Content Stats -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
        <div class="card-glow rounded-lg p-6">
          <div class="text-3xl font-bold text-gaming-blue" id="platforms-count">7</div>
          <div class="text-sm text-gray-400">Platforms</div>
        </div>
        <div class="card-glow rounded-lg p-6">
          <div class="text-3xl font-bold text-gaming-accent" id="content-items">45.2K</div>
          <div class="text-sm text-gray-400">Content Items</div>
        </div>
        <div class="card-glow rounded-lg p-6">
          <div class="text-3xl font-bold text-gaming-purple" id="creators-count">1,847</div>
          <div class="text-sm text-gray-400">Creators</div>
        </div>
        <div class="card-glow rounded-lg p-6">
          <div class="text-3xl font-bold text-gaming-yellow" id="daily-views">2.4M</div>
          <div class="text-sm text-gray-400">Daily Views</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <section class="py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      
      <!-- Platform Integrations -->
      <div class="mb-16">
        <h2 class="text-3xl font-bold text-gaming-blue mb-8 text-center">Integrated Platforms</h2>
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-6">
          
          <!-- YouTube -->
          <div class="platform-card rounded-xl p-6 text-center hover:bg-red-900 hover:bg-opacity-20 transition-all cursor-pointer">
            <div class="w-16 h-16 bg-red-600 rounded-xl flex items-center justify-center mx-auto mb-4">
              <i data-lucide="play" class="w-8 h-8 text-white"></i>
            </div>
            <h3 class="font-bold text-white mb-1">YouTube</h3>
            <p class="text-sm text-gray-400" id="youtube-count">12,847</p>
            <p class="text-xs text-gray-500">videos</p>
          </div>

          <!-- TikTok -->
          <div class="platform-card rounded-xl p-6 text-center hover:bg-black hover:bg-opacity-40 transition-all cursor-pointer">
            <div class="w-16 h-16 bg-black rounded-xl flex items-center justify-center mx-auto mb-4">
              <div class="text-2xl">🎵</div>
            </div>
            <h3 class="font-bold text-white mb-1">TikTok</h3>
            <p class="text-sm text-gray-400" id="tiktok-count">8,923</p>
            <p class="text-xs text-gray-500">clips</p>
          </div>

          <!-- Twitch -->
          <div class="platform-card rounded-xl p-6 text-center hover:bg-purple-900 hover:bg-opacity-20 transition-all cursor-pointer">
            <div class="w-16 h-16 bg-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4">
              <i data-lucide="tv" class="w-8 h-8 text-white"></i>
            </div>
            <h3 class="font-bold text-white mb-1">Twitch</h3>
            <p class="text-sm text-gray-400" id="twitch-count">5,621</p>
            <p class="text-xs text-gray-500">streams</p>
          </div>

          <!-- Facebook -->
          <div class="platform-card rounded-xl p-6 text-center hover:bg-blue-900 hover:bg-opacity-20 transition-all cursor-pointer">
            <div class="w-16 h-16 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4">
              <div class="text-2xl">📘</div>
            </div>
            <h3 class="font-bold text-white mb-1">Facebook</h3>
            <p class="text-sm text-gray-400" id="facebook-count">3,456</p>
            <p class="text-xs text-gray-500">videos</p>
          </div>

          <!-- Instagram -->
          <div class="platform-card rounded-xl p-6 text-center hover:bg-pink-900 hover:bg-opacity-20 transition-all cursor-pointer">
            <div class="w-16 h-16 bg-gradient-to-tr from-purple-600 to-pink-600 rounded-xl flex items-center justify-center mx-auto mb-4">
              <i data-lucide="camera" class="w-8 h-8 text-white"></i>
            </div>
            <h3 class="font-bold text-white mb-1">Instagram</h3>
            <p class="text-sm text-gray-400" id="instagram-count">2,789</p>
            <p class="text-xs text-gray-500">reels</p>
          </div>

          <!-- Twitter/X -->
          <div class="platform-card rounded-xl p-6 text-center hover:bg-gray-900 hover:bg-opacity-40 transition-all cursor-pointer">
            <div class="w-16 h-16 bg-gray-800 rounded-xl flex items-center justify-center mx-auto mb-4">
              <div class="text-2xl">𝕏</div>
            </div>
            <h3 class="font-bold text-white mb-1">Twitter</h3>
            <p class="text-sm text-gray-400" id="twitter-count">1,234</p>
            <p class="text-xs text-gray-500">clips</p>
          </div>

          <!-- Vimeo -->
          <div class="platform-card rounded-xl p-6 text-center hover:bg-teal-900 hover:bg-opacity-20 transition-all cursor-pointer">
            <div class="w-16 h-16 bg-teal-600 rounded-xl flex items-center justify-center mx-auto mb-4">
              <i data-lucide="video" class="w-8 h-8 text-white"></i>
            </div>
            <h3 class="font-bold text-white mb-1">Vimeo</h3>
            <p class="text-sm text-gray-400" id="vimeo-count">894</p>
            <p class="text-xs text-gray-500">videos</p>
          </div>

        </div>
      </div>

      <!-- Content Feed and Submission -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16">
        
        <!-- Content Submission -->
        <div class="card-glow rounded-xl p-8">
          <h3 class="text-2xl font-bold text-gaming-accent mb-6 flex items-center">
            <i data-lucide="upload" class="w-6 h-6 mr-3"></i>
            Submit Content
          </h3>
          
          <form id="content-submission-form" class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Platform</label>
              <select id="platform-select" name="platform" required class="w-full bg-gaming-surface border border-gray-600 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-gaming-accent focus:border-transparent">
                <option value="">Select Platform</option>
                <option value="youtube">📺 YouTube</option>
                <option value="tiktok">🎵 TikTok</option>
                <option value="twitch">📺 Twitch</option>
                <option value="facebook">📘 Facebook</option>
                <option value="instagram">📸 Instagram</option>
                <option value="twitter">𝕏 Twitter/X</option>
                <option value="vimeo">🎬 Vimeo</option>
              </select>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Content URL</label>
              <input id="content-url" name="contentUrl" type="url" placeholder="https://..." required class="w-full bg-gaming-surface border border-gray-600 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-gaming-accent focus:border-transparent">
              <p class="text-xs text-gray-500 mt-1">Enter the direct link to your gaming content</p>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Title</label>
              <input id="content-title" name="title" type="text" placeholder="Epic Gaming Moment..." required maxlength="100" class="w-full bg-gaming-surface border border-gray-600 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-gaming-accent focus:border-transparent">
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Description</label>
              <textarea id="content-description" name="description" placeholder="Describe your gaming content..." rows="3" maxlength="500" class="w-full bg-gaming-surface border border-gray-600 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-gaming-accent focus:border-transparent resize-none"></textarea>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Category</label>
              <select id="category-select" name="category" required class="w-full bg-gaming-surface border border-gray-600 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-gaming-accent focus:border-transparent">
                <option value="">Select Category</option>
                <option value="gameplay">🎮 Gameplay</option>
                <option value="tutorial">📚 Tutorial</option>
                <option value="review">⭐ Review</option>
                <option value="highlight">🔥 Highlight</option>
                <option value="stream">📺 Stream</option>
                <option value="tournament">🏆 Tournament</option>
                <option value="montage">🎬 Montage</option>
                <option value="funny">😂 Funny Moments</option>
              </select>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-300 mb-2">Tags (Optional)</label>
              <input id="content-tags" name="tags" type="text" placeholder="mlg, gaming, epic, clutch" maxlength="200" class="w-full bg-gaming-surface border border-gray-600 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-gaming-accent focus:border-transparent">
              <p class="text-xs text-gray-500 mt-1">Separate tags with commas</p>
            </div>
            
            <button type="submit" id="submit-btn" class="w-full bg-gaming-accent hover:bg-green-400 text-black px-6 py-3 rounded-lg font-bold transition-colors flex items-center justify-center">
              <i data-lucide="upload" class="w-4 h-4 mr-2"></i>
              Submit Content
            </button>
          </form>
        </div>

        <!-- Trending Content -->
        <div class="lg:col-span-2 card-glow rounded-xl p-8">
          <div class="flex items-center justify-between mb-6">
            <h3 class="text-2xl font-bold text-gaming-blue flex items-center">
              <i data-lucide="trending-up" class="w-6 h-6 mr-3"></i>
              Trending Content
            </h3>
            <div class="flex space-x-2">
              <button id="sort-hot" class="content-sort-btn bg-gaming-blue text-white px-4 py-2 rounded-lg text-sm" data-sort="hot">
                🔥 Hot
              </button>
              <button id="sort-recent" class="content-sort-btn bg-gaming-surface hover:bg-gaming-blue px-4 py-2 rounded-lg text-sm transition-colors" data-sort="recent">
                🕒 Recent
              </button>
              <button id="sort-top" class="content-sort-btn bg-gaming-surface hover:bg-gaming-blue px-4 py-2 rounded-lg text-sm transition-colors" data-sort="top">
                🏆 Top Rated
              </button>
              <button id="sort-views" class="content-sort-btn bg-gaming-surface hover:bg-gaming-blue px-4 py-2 rounded-lg text-sm transition-colors" data-sort="views">
                👁️ Most Viewed
              </button>
            </div>
          </div>
          
          <!-- Search Bar -->
          <div class="mb-6">
            <div class="relative">
              <input 
                id="content-search" 
                type="text" 
                placeholder="Search gaming content..." 
                class="w-full bg-gaming-surface border border-gray-600 rounded-lg px-4 py-3 pl-12 text-white focus:ring-2 focus:ring-gaming-blue focus:border-transparent transition-all"
              >
              <i data-lucide="search" class="w-5 h-5 absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
              <div id="search-results-count" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-sm text-gray-400 hidden">
                <span id="results-count">0</span> results
              </div>
            </div>
            
            <!-- Search Filters -->
            <div class="flex flex-wrap gap-2 mt-3" id="search-filters">
              <button class="search-filter active px-3 py-1 bg-gaming-blue text-white rounded-full text-sm" data-filter="all">All</button>
              <button class="search-filter px-3 py-1 bg-gaming-surface text-gray-400 rounded-full text-sm hover:text-gaming-blue" data-filter="youtube">YouTube</button>
              <button class="search-filter px-3 py-1 bg-gaming-surface text-gray-400 rounded-full text-sm hover:text-gaming-blue" data-filter="tiktok">TikTok</button>
              <button class="search-filter px-3 py-1 bg-gaming-surface text-gray-400 rounded-full text-sm hover:text-gaming-blue" data-filter="twitch">Twitch</button>
              <button class="search-filter px-3 py-1 bg-gaming-surface text-gray-400 rounded-full text-sm hover:text-gaming-blue" data-filter="gameplay">Gameplay</button>
              <button class="search-filter px-3 py-1 bg-gaming-surface text-gray-400 rounded-full text-sm hover:text-gaming-blue" data-filter="highlights">Highlights</button>
              <button class="search-filter px-3 py-1 bg-gaming-surface text-gray-400 rounded-full text-sm hover:text-gaming-blue" data-filter="tutorials">Tutorials</button>
            </div>
          </div>
          
          <div class="space-y-4" id="trending-content">
            
            <!-- Content Item 1 -->
            <div class="flex items-center space-x-4 p-4 bg-gaming-surface rounded-lg hover:bg-opacity-80 transition-all" data-platform="youtube" data-tags="valorant,gaming,clutch,esports,highlights,gameplay">
              <div class="w-20 h-14 bg-gradient-to-r from-red-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0">
                <i data-lucide="play" class="w-6 h-6 text-white"></i>
              </div>
              <div class="flex-1">
                <h4 class="font-bold text-white mb-1">Epic Valorant 1v5 Clutch - Championship Final</h4>
                <p class="text-sm text-gray-400 mb-2">by ProGamer2024 • YouTube • 2.4M views</p>
                <div class="flex items-center space-x-4 text-xs">
                  <span class="bg-red-600 text-white px-2 py-1 rounded">YouTube</span>
                  <span class="text-gaming-accent vote-count" data-content-id="content-1">847</span>
                  <span class="text-gray-400">votes •</span>
                  <span class="text-gaming-yellow">98% upvoted</span>
                </div>
              </div>
              <div class="text-right flex items-center space-x-3">
                <button class="bg-gaming-accent hover:bg-green-400 text-black px-4 py-2 rounded-lg font-bold transition-colors vote-btn" data-content-id="content-1" data-cost="25">
                  Vote (25 MLG)
                </button>
                <div class="text-2xl font-bold text-gaming-accent">🔥</div>
              </div>
            </div>

            <!-- Content Item 2 -->
            <div class="flex items-center space-x-4 p-4 bg-gaming-surface rounded-lg hover:bg-opacity-80 transition-all" data-platform="twitch" data-tags="twitch,streaming,gameplay,fps,highlights">
              <div class="w-20 h-14 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0">
                <i data-lucide="tv" class="w-6 h-6 text-white"></i>
              </div>
              <div class="flex-1">
                <h4 class="font-bold text-white mb-1">MLG Tournament Live Stream - Phoenix vs Warriors</h4>
                <p class="text-sm text-gray-400 mb-2">by TournamentHQ • Twitch • 847K views</p>
                <div class="flex items-center space-x-4 text-xs">
                  <span class="bg-purple-600 text-white px-2 py-1 rounded">Twitch</span>
                  <span class="text-gaming-accent vote-count" data-content-id="content-2">623</span>
                  <span class="text-gray-400">votes •</span>
                  <span class="text-gaming-yellow">96% upvoted</span>
                </div>
              </div>
              <div class="text-right flex items-center space-x-3">
                <button class="bg-gaming-accent hover:bg-green-400 text-black px-4 py-2 rounded-lg font-bold transition-colors vote-btn" data-content-id="content-2" data-cost="25">
                  Vote (25 MLG)
                </button>
                <div class="flex flex-col items-center">
                  <div class="w-3 h-3 bg-gaming-accent rounded-full animate-pulse"></div>
                  <div class="text-xs text-gaming-accent">LIVE</div>
                </div>
              </div>
            </div>

            <!-- Content Item 3 -->
            <div class="flex items-center space-x-4 p-4 bg-gaming-surface rounded-lg hover:bg-opacity-80 transition-all" data-platform="tiktok" data-tags="tiktok,viral,gaming,mobile,tutorials">
              <div class="w-20 h-14 bg-gradient-to-r from-black to-gray-800 rounded-lg flex items-center justify-center flex-shrink-0">
                <div class="text-2xl">🎵</div>
              </div>
              <div class="flex-1">
                <h4 class="font-bold text-white mb-1">Insane Rocket League Air Dribble - 30 Second Clip</h4>
                <p class="text-sm text-gray-400 mb-2">by AerialMaster • TikTok • 1.8M views</p>
                <div class="flex items-center space-x-4 text-xs">
                  <span class="bg-black text-white px-2 py-1 rounded">TikTok</span>
                  <span class="text-gaming-accent vote-count" data-content-id="content-3">512</span>
                  <span class="text-gray-400">votes •</span>
                  <span class="text-gaming-yellow">94% upvoted</span>
                </div>
              </div>
              <div class="text-right flex items-center space-x-3">
                <button class="bg-gaming-accent hover:bg-green-400 text-black px-4 py-2 rounded-lg font-bold transition-colors vote-btn" data-content-id="content-3" data-cost="25">
                  Vote (25 MLG)
                </button>
                <div class="text-2xl">⚡</div>
              </div>
            </div>

          </div>
          
          <div class="mt-6 text-center">
            <button class="bg-gaming-surface hover:bg-gaming-blue px-8 py-3 rounded-lg font-bold transition-colors">
              Load More Content
            </button>
          </div>
        </div>

      </div>

      <!-- Content Analytics -->
      <div class="card-glow rounded-xl p-8">
        <h3 class="text-2xl font-bold text-gaming-accent mb-6 text-center">Content Analytics</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          
          <div class="bg-gaming-surface rounded-lg p-6 text-center">
            <div class="text-3xl font-bold text-gaming-blue mb-2">2.4M</div>
            <div class="text-sm text-gray-400 mb-1">Total Views Today</div>
            <div class="text-xs text-gaming-accent">↑ 12% from yesterday</div>
          </div>
          
          <div class="bg-gaming-surface rounded-lg p-6 text-center">
            <div class="text-3xl font-bold text-gaming-purple mb-2">847K</div>
            <div class="text-sm text-gray-400 mb-1">Engagement Rate</div>
            <div class="text-xs text-gaming-accent">↑ 8% from yesterday</div>
          </div>
          
          <div class="bg-gaming-surface rounded-lg p-6 text-center">
            <div class="text-3xl font-bold text-gaming-yellow mb-2">156</div>
            <div class="text-sm text-gray-400 mb-1">New Creators</div>
            <div class="text-xs text-gaming-accent">↑ 15% this week</div>
          </div>
          
          <div class="bg-gaming-surface rounded-lg p-6 text-center">
            <div class="text-3xl font-bold text-gaming-red mb-2">234</div>
            <div class="text-sm text-gray-400 mb-1">Trending Items</div>
            <div class="text-xs text-gaming-accent">↑ 24% this week</div>
          </div>
          
        </div>
      </div>

    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-black bg-opacity-80 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <a href="index.html" onclick="handleNavigation(event, 'index.html')" class="text-2xl font-bold mb-4 text-gaming-accent hover:text-green-400 transition-colors inline-block">🎮 MLG.clan</a>
        <p class="text-gray-400 mb-6">The future of gaming communities is here.</p>
        <div class="flex justify-center space-x-8 text-sm text-gray-500">
          <span>Web3 Native</span>
          <span>•</span>
          <span>Enterprise Ready</span>
          <span>•</span>
          <span>Community Governed</span>
          <span>•</span>
          <span>100% Complete</span>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Initialize content platform
    class ContentPlatform {
      constructor() {
        this.stats = {
          platforms: 7,
          contentItems: 45200,
          creators: 1847,
          dailyViews: 2400000
        };
        this.platformCounts = {
          youtube: 12847,
          tiktok: 8923,
          twitch: 5621,
          facebook: 3456,
          instagram: 2789,
          twitter: 1234,
          vimeo: 894
        };
        this.contentData = null;
        this.init();
      }
      
      async init() {
        console.log('📱 Initializing Content Platform...');
        
        this.initializeUI();
        this.setupEventListeners();
        
        // Load data from API
        await this.loadContentData();
        
        this.startRealTimeUpdates();
        
        // Add character counters to form
        this.addCharacterCounters();
        
        console.log('✅ Content Platform initialized successfully!');
      }
      
      addCharacterCounters() {
        // Add character counter for title
        const titleInput = document.getElementById('content-title');
        if (titleInput && !titleInput.parentElement.querySelector('.char-counter')) {
          const counter = document.createElement('div');
          counter.className = 'char-counter text-xs text-gray-400 mt-1';
          counter.innerHTML = '<span class="current">0</span>/<span class="max">100</span> characters';
          titleInput.parentElement.appendChild(counter);
        }
        
        // Add character counter for description
        const descInput = document.getElementById('content-description');
        if (descInput && !descInput.parentElement.querySelector('.char-counter')) {
          const counter = document.createElement('div');
          counter.className = 'char-counter text-xs text-gray-400 mt-1';
          counter.innerHTML = '<span class="current">0</span>/<span class="max">500</span> characters';
          descInput.parentElement.appendChild(counter);
        }
      }
      
      updateCharacterCounter(field, value, maxLength) {
        const counter = document.querySelector(`#content-${field}`).parentElement.querySelector('.char-counter .current');
        if (counter) {
          counter.textContent = value.length;
          
          // Update color based on remaining characters
          const remaining = maxLength - value.length;
          const counterParent = counter.parentElement;
          
          if (remaining < 0) {
            counterParent.className = 'char-counter text-xs text-gaming-red mt-1';
          } else if (remaining < maxLength * 0.1) {
            counterParent.className = 'char-counter text-xs text-gaming-yellow mt-1';
          } else {
            counterParent.className = 'char-counter text-xs text-gray-400 mt-1';
          }
        }
      }
      
      validateTags(tagsString) {
        const tags = tagsString.split(',').map(tag => tag.trim()).filter(tag => tag);
        const tagsInput = document.getElementById('content-tags');
        
        if (tags.length > 10) {
          tagsInput.classList.add('border-gaming-red');
          this.showFieldError(tagsInput, 'Maximum 10 tags allowed');
        } else {
          tagsInput.classList.remove('border-gaming-red');
          this.clearFieldError(tagsInput);
        }
      }
      
      showFieldError(field, message) {
        // Remove existing error
        this.clearFieldError(field);
        
        // Add error message
        const error = document.createElement('div');
        error.className = 'field-error text-xs text-gaming-red mt-1';
        error.textContent = message;
        field.parentElement.appendChild(error);
      }
      
      clearFieldError(field) {
        const existingError = field.parentElement.querySelector('.field-error');
        if (existingError) {
          existingError.remove();
        }
      }
      
      initializeUI() {
        if (typeof lucide !== 'undefined') {
          lucide.createIcons();
        }
      }
      
      setupEventListeners() {
        // Content submission form
        const form = document.getElementById('content-submission-form');
        if (form) {
          form.addEventListener('submit', (e) => {
            e.preventDefault();
            this.handleContentSubmission(e);
          });
        }
        
        // Real-time form validation
        const urlInput = document.getElementById('content-url');
        if (urlInput) {
          urlInput.addEventListener('input', (e) => {
            this.validatePlatformUrl(e.target.value);
          });
        }
        
        // Character counters for title and description
        const titleInput = document.getElementById('content-title');
        if (titleInput) {
          titleInput.addEventListener('input', (e) => {
            this.updateCharacterCounter('title', e.target.value, 100);
          });
        }
        
        const descriptionInput = document.getElementById('content-description');
        if (descriptionInput) {
          descriptionInput.addEventListener('input', (e) => {
            this.updateCharacterCounter('description', e.target.value, 500);
          });
        }
        
        // Tags validation
        const tagsInput = document.getElementById('content-tags');
        if (tagsInput) {
          tagsInput.addEventListener('input', (e) => {
            this.validateTags(e.target.value);
            this.saveFormDraft();
          });
        }

        // Auto-save form draft for all form fields
        this.setupFormDraftSaving();
        
        // Search functionality
        const searchInput = document.getElementById('content-search');
        if (searchInput) {
          // Load saved search query
          const savedSearch = localStorage.getItem('mlg_content_search');
          if (savedSearch) {
            searchInput.value = savedSearch;
            this.performSearch(savedSearch);
          }
          
          searchInput.addEventListener('input', (e) => {
            this.performSearch(e.target.value);
            // Save search query
            localStorage.setItem('mlg_content_search', e.target.value);
          });
        }
        
        // Search filters
        document.querySelectorAll('.search-filter').forEach(filter => {
          filter.addEventListener('click', (e) => {
            this.setActiveFilter(e.target);
            this.performSearch(searchInput ? searchInput.value : '');
            // Save active filter
            localStorage.setItem('mlg_content_filter', e.target.dataset.filter);
          });
        });

        // Load saved filter
        const savedFilter = localStorage.getItem('mlg_content_filter');
        if (savedFilter) {
          const filterBtn = document.querySelector(`[data-filter="${savedFilter}"]`);
          if (filterBtn) {
            this.setActiveFilter(filterBtn);
          }
        }

        // Content sorting buttons
        document.querySelectorAll('.content-sort-btn').forEach(sortBtn => {
          sortBtn.addEventListener('click', (e) => {
            this.setActiveSortButton(e.target);
            this.sortContent(e.target.dataset.sort);
          });
        });

        // Platform cards
        document.querySelectorAll('.platform-card').forEach(card => {
          card.addEventListener('click', () => {
            const platform = card.querySelector('h3').textContent.toLowerCase();
            this.showNotification(`🔍 Browsing ${platform} content...`, 'info');
          });
        });

        // Content items
        document.querySelectorAll('#trending-content > div').forEach(item => {
          item.addEventListener('click', () => {
            this.showNotification('🎥 Opening content viewer...', 'info');
          });
        });
      }
      
      async loadContentData() {
        try {
          console.log('📊 Loading content data from API...');
          
          // Show loading state
          window.mlgApi?.showLoading('main', {
            message: 'Loading content data...',
            type: 'dashboard'
          });
          
          // Load content data from API
          const response = await window.mlgApi.getContent();
          
          if (response.success) {
            this.contentData = response;
            
            // Update stats from API data
            if (response.platforms) {
              this.platformCounts = {
                youtube: response.platforms.youtube?.videos || this.platformCounts.youtube,
                tiktok: response.platforms.tiktok?.clips || this.platformCounts.tiktok,
                twitch: response.platforms.twitch?.streams || this.platformCounts.twitch,
                facebook: response.platforms.facebook?.videos || this.platformCounts.facebook,
                instagram: this.platformCounts.instagram, // Not in API yet
                twitter: this.platformCounts.twitter, // Not in API yet
                vimeo: this.platformCounts.vimeo // Not in API yet
              };
            }
            
            if (response.analytics) {
              this.stats.creators = response.analytics.new_creators || this.stats.creators;
              this.stats.dailyViews = parseInt(response.analytics.total_views_today?.replace(/[^\d]/g, '')) * 1000 || this.stats.dailyViews;
            }
            
            // Update display
            this.updateStatsDisplay();
            
            // Update trending content
            this.updateTrendingContent(response.trending || []);
            
            console.log('✅ Content data loaded from API');
          } else {
            throw new Error('API response not successful');
          }
          
        } catch (error) {
          console.error('Failed to load content data:', error);
          
          // Show error notification
          this.showNotification('Failed to load content data. Using fallback.', 'warning');
          
          // Use fallback data
          this.updateStatsDisplay();
        } finally {
          // Hide loading state
          window.mlgApi?.hideLoading('main');
        }
      }
      
      updateStatsDisplay() {
        // Update main stats
        const mainStats = {
          'platforms-count': this.stats.platforms,
          'content-items': (this.stats.contentItems / 1000).toFixed(1) + 'K',
          'creators-count': this.stats.creators.toLocaleString(),
          'daily-views': (this.stats.dailyViews / 1000000).toFixed(1) + 'M'
        };
        
        Object.entries(mainStats).forEach(([id, value]) => {
          const element = document.getElementById(id);
          if (element) {
            element.textContent = value;
            // Add pulse effect for updates
            element.classList.add('animate-pulse-neon');
            setTimeout(() => {
              element.classList.remove('animate-pulse-neon');
            }, 1000);
          }
        });
        
        // Update platform counts
        Object.entries(this.platformCounts).forEach(([platform, count]) => {
          const element = document.getElementById(`${platform}-count`);
          if (element) {
            element.textContent = count.toLocaleString();
            // Add pulse effect for updates
            element.classList.add('animate-pulse-neon');
            setTimeout(() => {
              element.classList.remove('animate-pulse-neon');
            }, 1000);
          }
        });
      }
      
      updateTrendingContent(trending) {
        if (!trending || trending.length === 0) return;
        
        console.log('📈 Updating trending content:', trending);
        
        // Update trending content display if elements exist
        // This would dynamically update trending content cards
        trending.forEach((item, index) => {
          const titleElement = document.querySelector(`[data-trending="${index}"] .content-title`);
          const creatorElement = document.querySelector(`[data-trending="${index}"] .content-creator`);
          const viewsElement = document.querySelector(`[data-trending="${index}"] .content-views`);
          const votesElement = document.querySelector(`[data-trending="${index}"] .content-votes`);
          
          if (titleElement) titleElement.textContent = item.title;
          if (creatorElement) creatorElement.textContent = item.creator;
          if (viewsElement) viewsElement.textContent = item.views;
          if (votesElement) votesElement.textContent = `↑${item.upvotes} ↓${item.downvotes}`;
        });
      }
      
      startRealTimeUpdates() {
        // Start real-time updates using the API client
        console.log('🔄 Starting real-time content updates...');
        
        // Update content data every 20 seconds
        window.mlgApi?.startRealTimeUpdates('/content', (data) => {
          if (data.success) {
            this.contentData = data;
            
            // Update platform counts from API
            if (data.platforms) {
              Object.keys(data.platforms).forEach(platform => {
                const apiData = data.platforms[platform];
                if (apiData && this.platformCounts[platform] !== undefined) {
                  this.platformCounts[platform] = apiData.videos || apiData.clips || apiData.streams || this.platformCounts[platform];
                }
              });
            }
            
            // Update analytics
            if (data.analytics) {
              this.stats.creators = data.analytics.new_creators || this.stats.creators;
            }
            
            this.updateStatsDisplay();
            this.updateTrendingContent(data.trending || []);
          }
        }, 20000);
      }

      setupFormDraftSaving() {
        const formFields = [
          { id: 'content-platform', name: 'platform' },
          { id: 'content-url', name: 'contentUrl' },
          { id: 'content-title', name: 'title' },
          { id: 'content-description', name: 'description' },
          { id: 'content-category', name: 'category' },
          { id: 'content-tags', name: 'tags' }
        ];

        formFields.forEach(field => {
          const element = document.getElementById(field.id);
          if (element) {
            element.addEventListener('input', () => {
              this.saveFormDraft();
            });
            element.addEventListener('change', () => {
              this.saveFormDraft();
            });
          }
        });

        // Load saved draft on page load
        this.loadFormDraft();
      }

      saveFormDraft() {
        const formData = {
          platform: document.getElementById('content-platform')?.value || '',
          contentUrl: document.getElementById('content-url')?.value || '',
          title: document.getElementById('content-title')?.value || '',
          description: document.getElementById('content-description')?.value || '',
          category: document.getElementById('content-category')?.value || '',
          tags: document.getElementById('content-tags')?.value || '',
          timestamp: Date.now()
        };

        localStorage.setItem('mlg_content_draft', JSON.stringify(formData));
        console.log('💾 Content form draft saved');
      }

      loadFormDraft() {
        const savedDraft = localStorage.getItem('mlg_content_draft');
        if (!savedDraft) return;

        try {
          const draft = JSON.parse(savedDraft);
          
          // Only load if draft is less than 24 hours old
          const hoursSinceLastSave = (Date.now() - draft.timestamp) / (1000 * 60 * 60);
          if (hoursSinceLastSave > 24) {
            localStorage.removeItem('mlg_content_draft');
            return;
          }

          // Restore form fields
          document.getElementById('content-platform').value = draft.platform || '';
          document.getElementById('content-url').value = draft.contentUrl || '';
          document.getElementById('content-title').value = draft.title || '';
          document.getElementById('content-description').value = draft.description || '';
          document.getElementById('content-category').value = draft.category || '';
          document.getElementById('content-tags').value = draft.tags || '';

          // Update character counters
          this.updateCharacterCounter('title', draft.title || '', 100);
          this.updateCharacterCounter('description', draft.description || '', 500);
          
          // Validate tags
          if (draft.tags) {
            this.validateTags(draft.tags);
          }

          console.log('📋 Content form draft loaded');
        } catch (error) {
          console.error('Failed to load form draft:', error);
          localStorage.removeItem('mlg_content_draft');
        }
      }

      clearFormDraft() {
        localStorage.removeItem('mlg_content_draft');
        console.log('🗑️ Content form draft cleared');
      }
      
      async handleContentSubmission(event) {
        try {
          // Get form data
          const formData = new FormData(event.target);
          const contentData = {
            platform: formData.get('platform'),
            contentUrl: formData.get('contentUrl'),
            title: formData.get('title'),
            description: formData.get('description'),
            category: formData.get('category'),
            tags: formData.get('tags')?.split(',').map(tag => tag.trim()).filter(tag => tag) || []
          };
          
          // Enhanced validation
          const validation = this.validateSubmissionData(contentData);
          if (!validation.isValid) {
            throw new Error(validation.error);
          }
          
          // Show submitting state
          const submitBtn = document.getElementById('submit-btn');
          const originalContent = submitBtn.innerHTML;
          submitBtn.disabled = true;
          submitBtn.innerHTML = '<i class="animate-spin">⏳</i> Submitting...';
          
          // Submit to API with fallback
          let result;
          if (window.MLGApiClient && typeof window.MLGApiClient.submitContent === 'function') {
            result = await window.MLGApiClient.submitContent(contentData);
          } else {
            // Fallback submission
            result = await this.fallbackContentSubmission(contentData);
          }
          
          if (result) {
            // Success - clear form
            event.target.reset();
            
            // Clear character counters
            this.resetCharacterCounters();
            
            // Clear form draft since submission was successful
            this.clearFormDraft();
            
            // Show success notification
            this.showNotification('🎉 Content submitted successfully!', 'success');
            console.log('✅ Content submitted successfully');
            
            // Refresh content data to show new submission
            await this.loadContentData();
          }
          
        } catch (error) {
          console.error('Content submission failed:', error);
          
          // Show error using MLG error handler
          if (window.MLGErrorHandler) {
            window.MLGErrorHandler.createNotification({
              type: 'error',
              title: '❌ Submission Failed',
              message: error.message || 'Failed to submit content. Please try again.',
              icon: '📤'
            });
          } else {
            this.showNotification(error.message || 'Failed to submit content. Please try again.', 'error');
          }
        } finally {
          // Restore button state
          const submitBtn = document.getElementById('submit-btn');
          if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.innerHTML = '<i data-lucide="upload" class="w-4 h-4 mr-2"></i>Submit Content';
            
            // Re-initialize lucide icons
            if (typeof lucide !== 'undefined') {
              lucide.createIcons();
            }
          }
        }
      }
      
      async fallbackContentSubmission(contentData) {
        console.log('🔄 Using fallback content submission:', contentData);
        
        // Simulate API submission delay
        await new Promise(resolve => setTimeout(resolve, 2000));
        
        // Store in localStorage for demo purposes
        const submissions = JSON.parse(localStorage.getItem('mlg_content_submissions') || '[]');
        const newSubmission = {
          ...contentData,
          id: Date.now(),
          timestamp: new Date().toISOString(),
          votes: 0,
          views: 0,
          status: 'pending'
        };
        
        submissions.push(newSubmission);
        localStorage.setItem('mlg_content_submissions', JSON.stringify(submissions));
        
        console.log('✅ Content stored locally for demo');
        return { success: true, submission: newSubmission };
      }
      
      resetCharacterCounters() {
        const counters = document.querySelectorAll('.char-counter .current');
        counters.forEach(counter => {
          counter.textContent = '0';
          counter.parentElement.className = 'char-counter text-xs text-gray-400 mt-1';
        });
      }
      
      validateSubmissionData(contentData) {
        // Check required fields
        if (!contentData.platform) {
          return { isValid: false, error: 'Please select a platform' };
        }
        
        if (!contentData.contentUrl) {
          return { isValid: false, error: 'Please enter a content URL' };
        }
        
        if (!contentData.title || contentData.title.length < 3) {
          return { isValid: false, error: 'Title must be at least 3 characters long' };
        }
        
        if (!contentData.category) {
          return { isValid: false, error: 'Please select a category' };
        }
        
        // Validate URL format
        try {
          new URL(contentData.contentUrl);
        } catch {
          return { isValid: false, error: 'Please enter a valid URL' };
        }
        
        // Validate platform-specific URL
        if (!this.isValidPlatformUrl(contentData.contentUrl, contentData.platform)) {
          return { isValid: false, error: `URL doesn't match selected platform (${contentData.platform})` };
        }
        
        // Check title length
        if (contentData.title.length > 100) {
          return { isValid: false, error: 'Title cannot exceed 100 characters' };
        }
        
        // Check description length
        if (contentData.description && contentData.description.length > 500) {
          return { isValid: false, error: 'Description cannot exceed 500 characters' };
        }
        
        // Validate tags
        if (contentData.tags.length > 10) {
          return { isValid: false, error: 'Maximum 10 tags allowed' };
        }
        
        // Check for inappropriate content (basic filter)
        const inappropriateWords = ['spam', 'fake', 'scam', 'hack'];
        const titleLower = contentData.title.toLowerCase();
        if (inappropriateWords.some(word => titleLower.includes(word))) {
          return { isValid: false, error: 'Content appears to violate community guidelines' };
        }
        
        return { isValid: true };
      }
      
      isValidPlatformUrl(url, platform) {
        const patterns = {
          youtube: [/youtube\.com\/watch/, /youtu\.be\//],
          tiktok: [/tiktok\.com\/@/, /vm\.tiktok\.com/, /tiktok\.com\/.*\/video\//],
          twitch: [/twitch\.tv\/videos\//, /clips\.twitch\.tv\//],
          facebook: [/facebook\.com\/watch/, /fb\.watch\//],
          instagram: [/instagram\.com\/p\//, /instagram\.com\/reel\//],
          twitter: [/twitter\.com\/.+\/status/, /x\.com\/.+\/status/],
          vimeo: [/vimeo\.com\/\d+/]
        };
        
        if (!patterns[platform]) return true; // Allow unknown platforms
        
        return patterns[platform].some(pattern => pattern.test(url));
      }
      
      validatePlatformUrl(url) {
        if (!url) return;
        
        // Platform URL patterns
        const patterns = {
          youtube: [/youtube\.com\/watch/, /youtu\.be\//],
          tiktok: [/tiktok\.com\/@/, /vm\.tiktok\.com/],
          twitch: [/twitch\.tv\//],
          facebook: [/facebook\.com\/watch/, /fb\.watch\//],
          instagram: [/instagram\.com\/p\//, /instagram\.com\/reel\//],
          twitter: [/twitter\.com\/.+\/status/, /x\.com\/.+\/status/],
          vimeo: [/vimeo\.com\//]
        };
        
        // Auto-detect platform from URL
        const platformSelect = document.getElementById('platform-select');
        const urlInput = document.getElementById('content-url');
        
        if (!platformSelect || !urlInput) return;
        
        for (const [platform, platformPatterns] of Object.entries(patterns)) {
          if (platformPatterns.some(pattern => pattern.test(url))) {
            if (platformSelect.value === '' || platformSelect.value !== platform) {
              platformSelect.value = platform;
              
              // Show auto-detection notification
              if (window.MLGErrorHandler) {
                window.MLGErrorHandler.createNotification({
                  type: 'info',
                  title: '🎯 Platform Detected',
                  message: `Auto-selected ${platform.charAt(0).toUpperCase() + platform.slice(1)}`,
                  icon: '🤖'
                });
              } else {
                this.showNotification(`Auto-detected ${platform}`, 'info');
              }
            }
            
            // Add valid styling
            urlInput.classList.remove('border-gaming-red', 'border-gaming-yellow');
            urlInput.classList.add('border-gaming-accent');
            return;
          }
        }
        
        // No pattern matched - show warning for non-empty URLs
        if (url.length > 10) {
          urlInput.classList.remove('border-gaming-accent');
          urlInput.classList.add('border-gaming-yellow');
        }
      }
      
      showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 px-6 py-3 rounded-lg text-white font-medium z-50 transition-all transform translate-x-full ${
          type === 'success' ? 'bg-gaming-accent text-black' :
          type === 'error' ? 'bg-gaming-red' :
          type === 'warning' ? 'bg-gaming-yellow text-black' :
          'bg-gaming-blue'
        }`;
        
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.classList.remove('translate-x-full');
        }, 100);
        
        setTimeout(() => {
          notification.classList.add('translate-x-full');
          setTimeout(() => {
            if (document.body.contains(notification)) {
              document.body.removeChild(notification);
            }
          }, 300);
        }, 4000);
      }
      
      performSearch(query) {
        console.log('🔍 Performing content search:', query);
        
        // Get active filter
        const activeFilter = document.querySelector('.search-filter.active');
        const filter = activeFilter ? activeFilter.dataset.filter : 'all';
        
        // Get content items
        const contentItems = document.querySelectorAll('#trending-content > div');
        let visibleCount = 0;
        
        if (!query.trim()) {
          // Show all items if no search query
          contentItems.forEach(item => {
            item.style.display = '';
            visibleCount++;
          });
        } else {
          // Filter items based on search query
          contentItems.forEach(item => {
            const title = item.querySelector('h4')?.textContent?.toLowerCase() || '';
            const creator = item.querySelector('.text-gray-400')?.textContent?.toLowerCase() || '';
            const tags = item.dataset.tags?.toLowerCase() || '';
            const platform = item.dataset.platform?.toLowerCase() || '';
            
            const queryLower = query.toLowerCase();
            const matchesSearch = title.includes(queryLower) || 
                                creator.includes(queryLower) || 
                                tags.includes(queryLower);
                                
            const matchesFilter = filter === 'all' || 
                                platform === filter || 
                                tags.includes(filter);
            
            if (matchesSearch && matchesFilter) {
              item.style.display = '';
              this.highlightSearchTerms(item, query);
              visibleCount++;
            } else {
              item.style.display = 'none';
            }
          });
        }
        
        // Update results count
        this.updateSearchResultsCount(visibleCount, query);
      }
      
      setActiveFilter(clickedFilter) {
        // Remove active class from all filters
        document.querySelectorAll('.search-filter').forEach(filter => {
          filter.classList.remove('active', 'bg-gaming-blue', 'text-white');
          filter.classList.add('bg-gaming-surface', 'text-gray-400');
        });
        
        // Add active class to clicked filter
        clickedFilter.classList.add('active', 'bg-gaming-blue', 'text-white');
        clickedFilter.classList.remove('bg-gaming-surface', 'text-gray-400');
      }

      setActiveSortButton(clickedButton) {
        // Remove active class from all sort buttons
        document.querySelectorAll('.content-sort-btn').forEach(btn => {
          btn.classList.remove('bg-gaming-blue', 'text-white');
          btn.classList.add('bg-gaming-surface');
        });
        
        // Add active class to clicked button
        clickedButton.classList.add('bg-gaming-blue', 'text-white');
        clickedButton.classList.remove('bg-gaming-surface');
      }

      sortContent(sortType) {
        console.log(`🔄 Sorting content by: ${sortType}`);
        
        const contentContainer = document.getElementById('trending-content');
        if (!contentContainer) return;
        
        const contentItems = Array.from(contentContainer.children);
        
        // Generate sorting data if not present
        contentItems.forEach((item, index) => {
          if (!item.dataset.sortData) {
            const baseVotes = Math.floor(Math.random() * 1000) + 100;
            const baseViews = Math.floor(Math.random() * 50000) + 5000;
            const daysOld = Math.floor(Math.random() * 30) + 1;
            
            item.dataset.sortData = JSON.stringify({
              votes: baseVotes,
              views: baseViews,
              timestamp: Date.now() - (daysOld * 24 * 60 * 60 * 1000),
              hotScore: baseVotes + (baseViews / 100) - (daysOld * 10)
            });
          }
        });
        
        // Sort items based on type
        contentItems.sort((a, b) => {
          const aData = JSON.parse(a.dataset.sortData || '{}');
          const bData = JSON.parse(b.dataset.sortData || '{}');
          
          switch(sortType) {
            case 'hot':
              return (bData.hotScore || 0) - (aData.hotScore || 0);
            case 'recent':
              return (bData.timestamp || 0) - (aData.timestamp || 0);
            case 'top':
              return (bData.votes || 0) - (aData.votes || 0);
            case 'views':
              return (bData.views || 0) - (aData.views || 0);
            default:
              return 0;
          }
        });
        
        // Re-append sorted items with animation
        contentItems.forEach((item, index) => {
          setTimeout(() => {
            contentContainer.appendChild(item);
            item.style.opacity = '0';
            item.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
              item.style.transition = 'all 0.3s ease';
              item.style.opacity = '1';
              item.style.transform = 'translateY(0)';
            }, 50);
          }, index * 50);
        });
        
        // Update UI to reflect sort
        this.showNotification(`📊 Content sorted by ${this.getSortDisplayName(sortType)}`, 'info');
      }

      getSortDisplayName(sortType) {
        const names = {
          hot: 'trending score',
          recent: 'newest first',
          top: 'highest rated',
          views: 'most viewed'
        };
        return names[sortType] || sortType;
      }
      
      highlightSearchTerms(item, query) {
        const titleElement = item.querySelector('h4');
        if (titleElement && query.trim()) {
          const originalText = titleElement.dataset.originalText || titleElement.textContent;
          titleElement.dataset.originalText = originalText;
          
          const regex = new RegExp(`(${query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
          const highlightedText = originalText.replace(regex, '<span class="bg-gaming-yellow text-black px-1 rounded">$1</span>');
          titleElement.innerHTML = highlightedText;
        }
      }
      
      updateSearchResultsCount(count, query) {
        const resultsCountEl = document.getElementById('search-results-count');
        const countEl = document.getElementById('results-count');
        
        if (resultsCountEl && countEl) {
          countEl.textContent = count;
          
          if (query.trim()) {
            resultsCountEl.classList.remove('hidden');
          } else {
            resultsCountEl.classList.add('hidden');
          }
        }
      }
      
      clearSearchHighlights() {
        document.querySelectorAll('#trending-content h4').forEach(title => {
          if (title.dataset.originalText) {
            title.textContent = title.dataset.originalText;
          }
        });
      }
    }
    
    // Universal navigation handler for both SPA and multi-page modes
    function handleNavigation(event, pageUrl) {
      // Check if SPA router is available and ready
      if (window.router && window.router.push && typeof window.router.push === 'function') {
        event.preventDefault();
        const routePath = '/' + pageUrl.replace('.html', '').replace('index', 'dashboard');
        window.router.push(routePath);
      }
      // If no SPA router, let the default link behavior happen (multi-page navigation)
    }
    
    // Active navigation state management
    function updateActiveNavigation(currentPage) {
      // Remove active class from all nav links
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('bg-gaming-accent', 'text-black', 'bg-gaming-blue', 'text-white');
        link.classList.add('text-gray-300');
      });
      
      // Add active class to current page link with appropriate styling
      const activeLink = document.querySelector(`.nav-link[href="${currentPage}"]`);
      if (activeLink) {
        activeLink.classList.remove('text-gray-300');
        if (currentPage === 'content.html') {
          activeLink.classList.add('bg-gaming-blue', 'text-white');
        } else {
          activeLink.classList.add('bg-gaming-accent', 'text-black');
        }
      }
    }
    
    // Make navigation functions globally available
    window.handleNavigation = handleNavigation;
    window.updateActiveNavigation = updateActiveNavigation;
    
    // Initialize when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      new ContentPlatform();
    });
  </script>
</body>
</html>