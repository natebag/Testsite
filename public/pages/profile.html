<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Profile - Gaming Profile Management | MLG.clan</title>
  
  <!-- Meta Tags -->
  <meta name="description" content="User Profile - Manage your gaming profile, achievements, wallet, and clan memberships on MLG.clan platform.">
  <meta name="keywords" content="profile, user, gaming, achievements, wallet, MLG, clan, esports, dashboard">
  <meta name="author" content="MLG.clan Development Team">
  
  <!-- Security Headers -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob:; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com https://unpkg.com https://cdn.socket.io; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; img-src 'self' data: blob: https:; connect-src 'self' wss: https: ws://localhost:3000; frame-src 'self' https://www.youtube.com https://player.twitch.tv https://www.tiktok.com; font-src 'self' data:;">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üë§</text></svg>">
  
  <!-- Standardized Module Loading System -->
  <script type="module" src="../../src/shared/router/page-loader.js"></script>
  <script type="module" src="../../src/shared/utils/api/mlg-api-client-consolidated.js"></script>
  <script type="module" src="../../src/shared/components/mlg-branding-system.js"></script>
  <script type="module" src="../../src/core/auth/mlg-username-tagging-service.js"></script>
  <script type="module" src="../../src/shared/utils/mlg-branding-init.js"></script>

  <!-- Page Configuration -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'gaming-bg': '#0a0a0f',
            'gaming-surface': '#1a1a2e',
            'gaming-accent': '#00ff88',
            'gaming-purple': '#8b5cf6',
            'gaming-blue': '#3b82f6',
            'gaming-yellow': '#fbbf24',
            'gaming-red': '#ef4444'
          },
          animation: {
            'pulse-neon': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'glow': 'glow 2s ease-in-out infinite alternate',
            'float': 'float 6s ease-in-out infinite'
          }
        }
      }
    }
  </script>
  
  <style>
    /* Gaming Theme Styles */
    :root {
      --neon-green: #00ff88;
      --neon-blue: #00ffff;
      --neon-purple: #8b5cf6;
      --dark-bg: #0a0a0f;
      --card-bg: #1a1a2e;
    }
    
    body {
      background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #0a0a0f 100%);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-x: hidden;
    }
    
    .neon-glow {
      box-shadow: 0 0 10px var(--neon-green), 0 0 20px var(--neon-green), 0 0 30px var(--neon-green);
      border: 1px solid var(--neon-green);
    }
    
    .card-glow {
      background: rgba(26, 26, 46, 0.95);
      border: 1px solid rgba(0, 255, 136, 0.2);
      backdrop-filter: blur(15px);
      transition: all 0.3s ease;
    }
    
    .card-glow:hover {
      border-color: rgba(0, 255, 136, 0.5);
      box-shadow: 0 0 20px rgba(0, 255, 136, 0.1);
      transform: translateY(-2px);
    }
    
    @keyframes glow {
      from { box-shadow: 0 0 10px var(--neon-green); }
      to { box-shadow: 0 0 20px var(--neon-green), 0 0 30px var(--neon-green); }
    }
    
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
      100% { transform: translateY(0px); }
    }
    
    .status-online {
      position: relative;
    }
    
    .status-online::before {
      content: '';
      position: absolute;
      top: -2px;
      right: -2px;
      width: 12px;
      height: 12px;
      background: var(--neon-green);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }
    
    .loading-spinner {
      border: 2px solid rgba(0, 255, 136, 0.1);
      border-left: 2px solid var(--neon-green);
      border-radius: 50%;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .achievement-badge {
      position: relative;
      overflow: hidden;
    }

    .achievement-badge::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, var(--neon-green), var(--neon-blue), var(--neon-purple));
      border-radius: 8px;
      z-index: -1;
      animation: glow 2s ease-in-out infinite alternate;
    }

    .profile-avatar {
      position: relative;
      background: linear-gradient(135deg, var(--neon-green), var(--neon-blue));
      border-radius: 50%;
      padding: 3px;
    }

    .profile-avatar::before {
      content: '';
      position: absolute;
      top: -3px;
      left: -3px;
      right: -3px;
      bottom: -3px;
      background: linear-gradient(135deg, var(--neon-green), var(--neon-blue), var(--neon-purple));
      border-radius: 50%;
      z-index: -1;
      animation: pulse-neon 2s infinite;
    }

    .skill-progress {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      overflow: hidden;
    }

    .skill-fill {
      background: linear-gradient(90deg, var(--neon-green), var(--neon-blue));
      height: 100%;
      transition: width 0.3s ease;
      border-radius: 10px;
    }
  </style>
</head>
<body class="bg-gaming-bg text-white min-h-screen">
  
  <!-- Navigation Header -->
  <nav class="bg-black bg-opacity-60 backdrop-blur-md border-b border-gaming-accent border-opacity-20 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center">
          <div class="flex-shrink-0">
            <a href="index.html" onclick="handleNavigation(event, 'index.html')" class="text-2xl font-bold text-gaming-accent flex items-center space-x-2 hover:text-green-400 transition-colors">
              <span class="animate-pulse">üéÆ</span>
              <span>MLG.clan</span>
            </a>
          </div>
          <div class="hidden md:block ml-10">
            <div class="flex items-baseline space-x-4">
              <a href="index.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'index.html')">Dashboard</a>
              <a href="voting.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'voting.html')">Vote Vault</a>
              <a href="clans.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'clans.html')">Clans</a>
              <a href="content.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'content.html')">Content Hub</a>
              <a href="dao.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'dao.html')">DAO</a>
              <a href="analytics.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-gaming-accent hover:bg-gaming-surface transition-colors" onclick="handleNavigation(event, 'analytics.html')">Analytics</a>
            </div>
          </div>
        </div>
        
        <div class="flex items-center space-x-4">
          <!-- System Status -->
          <div id="system-status" class="flex items-center space-x-2">
            <div class="status-online">
              <i data-lucide="activity" class="w-4 h-4 text-gaming-accent"></i>
            </div>
            <span class="text-sm text-gaming-accent font-medium">All Systems Online</span>
          </div>
          
          <!-- Wallet Connection -->
          <button id="wallet-connect" class="bg-gaming-purple hover:bg-purple-600 px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2">
            <i data-lucide="wallet" class="w-4 h-4"></i>
            <span>Connect Phantom</span>
          </button>
          
          <!-- User Info (Hidden by default) -->
          <div id="user-info" class="hidden flex items-center space-x-3">
            <div class="flex items-center space-x-2 bg-gaming-surface px-3 py-1 rounded-lg">
              <div class="w-6 h-6 bg-gradient-to-r from-gaming-accent to-gaming-blue rounded-full"></div>
              <span id="user-address" class="text-sm font-mono"></span>
            </div>
            <div class="text-right">
              <div class="text-xs text-gray-400">MLG Balance</div>
              <div id="mlg-balance" class="text-sm font-bold text-gaming-yellow">0</div>
            </div>
            <a href="profile.html" onclick="handleNavigation(event, 'profile.html')" class="text-gaming-accent hover:text-green-400 transition-colors">
              <i data-lucide="user" class="w-5 h-5"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Profile Header -->
  <section class="relative py-16 overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-gaming-bg via-gaming-surface to-gaming-bg opacity-50"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      
      <!-- MLG Branded Profile Header -->
      <div id="mlg-profile-header" class="card-glow rounded-xl p-8 mb-8 mlg-branding" data-mlg-branding="header">
        
        <!-- MLG Header Branding -->
        <div class="mlg-header-branding flex items-center justify-between mb-6">
          <div class="mlg-brand-identity flex items-center space-x-4">
            <div class="mlg-logo-section">
              <div class="flex items-center space-x-3">
                <span class="text-3xl animate-pulse">üèÜ</span>
                <div class="mlg-brand-text">
                  <h2 class="text-2xl font-bold text-gaming-accent tracking-wide">[MLG]</h2>
                  <p class="text-xs text-gaming-blue uppercase tracking-widest">Major League Gaming</p>
                </div>
              </div>
            </div>
            <div class="mlg-motto hidden md:block">
              <p class="text-sm text-gray-400 italic">"Elite Gaming Excellence"</p>
            </div>
          </div>
          
          <div class="mlg-membership-badge">
            <div class="bg-gradient-to-r from-gaming-accent to-gaming-blue px-4 py-2 rounded-lg border border-gaming-accent border-opacity-50">
              <div class="flex items-center space-x-2">
                <span class="text-black font-bold text-sm">ELITE MEMBER</span>
                <span class="text-black text-xs">2024</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Profile Banner -->
        <div class="flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8">
          
          <!-- Avatar with MLG Enhancement -->
          <div class="relative">
            <div class="profile-avatar w-32 h-32 flex items-center justify-center">
              <div class="w-28 h-28 bg-gaming-bg rounded-full flex items-center justify-center">
                <i data-lucide="user" class="w-12 h-12 text-gaming-accent"></i>
              </div>
            </div>
            <!-- MLG Badge Overlay -->
            <div class="absolute -top-2 -right-2">
              <div class="bg-gaming-accent text-black px-2 py-1 rounded-full text-xs font-bold border-2 border-gaming-bg">
                MLG
              </div>
            </div>
          </div>
          
          <!-- Profile Info with MLG Tagging -->
          <div class="flex-1 text-center md:text-left">
            <div class="flex flex-col md:flex-row md:items-center md:space-x-4 mb-4">
              <div class="mlg-username-container flex items-center justify-center md:justify-start space-x-3">
                <!-- MLG Tagged Username -->
                <div class="mlg-username-display">
                  <span class="bg-gaming-accent bg-opacity-20 text-gaming-accent px-3 py-1 rounded-lg text-sm font-bold mr-2 border border-gaming-accent border-opacity-50">[MLG]</span>
                  <h1 class="text-4xl font-bold text-white inline" id="profile-name">ProGamer2024</h1>
                </div>
              </div>
              <div class="flex items-center justify-center md:justify-start space-x-2 mt-2 md:mt-0">
                <div class="bg-gaming-purple px-3 py-1 rounded-full text-sm font-bold">Diamond</div>
                <div class="status-online">
                  <div class="bg-gaming-accent px-3 py-1 rounded-full text-black text-sm font-bold">Online</div>
                </div>
              </div>
            </div>
            
            <!-- MLG Bio with Branding -->
            <div class="mlg-bio-section mb-4">
              <p class="text-gray-300 text-lg" id="profile-bio">
                Professional esports player | <span class="text-gaming-accent font-semibold">MLG Elite Clan Member</span> | Content Creator
              </p>
              <p class="text-gaming-blue text-sm mt-1">
                üèÜ Elite Gaming Community ‚Ä¢ Verified MLG Member
              </p>
            </div>
            
            <!-- Enhanced Quick Stats with MLG Styling -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div class="text-center bg-gaming-surface bg-opacity-50 rounded-lg p-3 border border-gaming-accent border-opacity-20">
                <div class="text-2xl font-bold text-gaming-accent" id="profile-level">47</div>
                <div class="text-sm text-gray-400">MLG Level</div>
              </div>
              <div class="text-center bg-gaming-surface bg-opacity-50 rounded-lg p-3 border border-gaming-blue border-opacity-20">
                <div class="text-2xl font-bold text-gaming-blue" id="profile-wins">1,247</div>
                <div class="text-sm text-gray-400">Tournament Wins</div>
              </div>
              <div class="text-center bg-gaming-surface bg-opacity-50 rounded-lg p-3 border border-gaming-purple border-opacity-20">
                <div class="text-2xl font-bold text-gaming-purple" id="profile-tournaments">23</div>
                <div class="text-sm text-gray-400">MLG Events</div>
              </div>
              <div class="text-center bg-gaming-surface bg-opacity-50 rounded-lg p-3 border border-gaming-yellow border-opacity-20">
                <div class="text-2xl font-bold text-gaming-yellow" id="profile-earnings">$12.4K</div>
                <div class="text-sm text-gray-400">Prize Earnings</div>
              </div>
            </div>
          </div>
          
          <!-- Action Buttons with MLG Styling -->
          <div class="flex flex-col space-y-3">
            <button id="edit-profile" class="bg-gaming-accent hover:bg-green-400 text-black px-6 py-2 rounded-lg font-bold transition-colors border border-gaming-accent">
              <i data-lucide="edit" class="w-4 h-4 inline mr-2"></i>
              Edit Profile
            </button>
            <button id="share-profile" class="bg-gaming-surface hover:bg-gaming-blue px-6 py-2 rounded-lg font-bold transition-colors border border-gaming-blue border-opacity-50">
              <i data-lucide="share" class="w-4 h-4 inline mr-2"></i>
              Share Profile
            </button>
            <button id="mlg-achievements" class="bg-gradient-to-r from-gaming-purple to-gaming-accent text-black px-6 py-2 rounded-lg font-bold transition-colors">
              <span class="text-sm">üèÜ</span>
              <span class="ml-2">MLG Achievements</span>
            </button>
          </div>
          
        </div>
        
        <!-- MLG Achievement Showcase -->
        <div class="mlg-achievement-bar mt-6 pt-6 border-t border-gaming-accent border-opacity-20">
          <div class="flex items-center justify-between">
            <div class="mlg-achievement-title">
              <h3 class="text-lg font-bold text-gaming-accent">üèÜ MLG Achievements</h3>
              <p class="text-sm text-gray-400">Elite tier accomplishments</p>
            </div>
            <div class="flex space-x-2">
              <div class="achievement-badge bg-gaming-accent bg-opacity-20 p-2 rounded-lg border border-gaming-accent border-opacity-30" title="Tournament Champion">
                <span class="text-gaming-accent">üèÜ</span>
              </div>
              <div class="achievement-badge bg-gaming-blue bg-opacity-20 p-2 rounded-lg border border-gaming-blue border-opacity-30" title="MLG Elite">
                <span class="text-gaming-blue">‚≠ê</span>
              </div>
              <div class="achievement-badge bg-gaming-purple bg-opacity-20 p-2 rounded-lg border border-gaming-purple border-opacity-30" title="Content Creator">
                <span class="text-gaming-purple">üé¨</span>
              </div>
              <div class="achievement-badge bg-gaming-yellow bg-opacity-20 p-2 rounded-lg border border-gaming-yellow border-opacity-30" title="Top Performer">
                <span class="text-gaming-yellow">üíé</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <section class="py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        <!-- Left Column -->
        <div class="space-y-8">
          
          <!-- Wallet & Assets -->
          <div class="card-glow rounded-xl p-6">
            <h3 class="text-xl font-bold text-gaming-yellow mb-4 flex items-center">
              <i data-lucide="wallet" class="w-5 h-5 mr-2"></i>
              Wallet & Assets
            </h3>
            <div class="space-y-4">
              <div class="flex justify-between items-center">
                <span class="text-gray-300">MLG Tokens</span>
                <span class="text-gaming-yellow font-bold" id="wallet-mlg">1,250</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-gray-300">SOL Balance</span>
                <span class="text-gaming-blue font-bold" id="wallet-sol">2.45</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-gray-300">Staked in Clan</span>
                <span class="text-gaming-purple font-bold" id="staked-amount">500</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-gray-300">NFT Collection</span>
                <span class="text-gaming-accent font-bold" id="nft-count">7</span>
              </div>
              
              <div class="border-t border-gray-600 pt-4">
                <div class="text-sm text-gray-400 mb-2">Wallet Address</div>
                <div class="bg-gaming-surface rounded p-2 text-xs font-mono" id="wallet-address">
                  BQH7...x9K2 
                  <button class="ml-2 text-gaming-accent hover:text-green-400">
                    <i data-lucide="copy" class="w-3 h-3 inline"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- MLG Clan Membership -->
          <div class="card-glow rounded-xl p-6 mlg-branding" data-mlg-branding="profile">
            <h3 class="text-xl font-bold text-gaming-purple mb-4 flex items-center">
              <i data-lucide="users" class="w-5 h-5 mr-2"></i>
              <span class="text-gaming-accent">[MLG]</span>
              <span class="ml-2">Clan Membership</span>
            </h3>
            <div class="text-center">
              <!-- MLG Enhanced Clan Logo -->
              <div class="relative inline-block mb-3">
                <div class="w-16 h-16 bg-gradient-to-r from-gaming-purple to-gaming-blue rounded-full mx-auto flex items-center justify-center border-2 border-gaming-accent">
                  <i data-lucide="shield" class="w-8 h-8 text-white"></i>
                </div>
                <div class="absolute -top-1 -right-1 bg-gaming-accent text-black text-xs font-bold px-2 py-1 rounded-full border border-gaming-bg">
                  MLG
                </div>
              </div>
              
              <!-- MLG Clan Identity -->
              <div class="mlg-clan-identity mb-4">
                <h4 class="font-bold text-lg text-gaming-accent">üèÜ MLG Elite</h4>
                <p class="text-sm text-gaming-blue font-semibold">Major League Gaming ‚Ä¢ Elite Division</p>
                <p class="text-sm text-gray-400">Diamond Tier ‚Ä¢ Member since Mar 2024</p>
              </div>
              
              <!-- Enhanced Role Display -->
              <div class="grid grid-cols-2 gap-4 text-sm mb-4">
                <div class="bg-gaming-surface rounded p-3 border border-gaming-accent border-opacity-30">
                  <div class="text-gaming-accent font-bold text-lg">Captain</div>
                  <div class="text-gray-400">MLG Role</div>
                </div>
                <div class="bg-gaming-surface rounded p-3 border border-gaming-blue border-opacity-30">
                  <div class="text-gaming-blue font-bold text-lg">#12</div>
                  <div class="text-gray-400">Clan Rank</div>
                </div>
              </div>
              
              <!-- MLG Member Benefits -->
              <div class="mlg-benefits bg-gaming-accent bg-opacity-10 rounded-lg p-3 mb-4 border border-gaming-accent border-opacity-30">
                <h5 class="text-gaming-accent font-bold text-sm mb-2">üéØ MLG Member Benefits</h5>
                <div class="text-xs text-gray-300 space-y-1">
                  <div>‚úì Tournament Priority Access</div>
                  <div>‚úì Exclusive MLG Events</div>
                  <div>‚úì Premium Support</div>
                </div>
              </div>
              
              <button class="w-full bg-gaming-purple hover:bg-purple-600 px-4 py-2 rounded-lg font-bold transition-colors border border-gaming-purple">
                <span class="mr-2">üèÜ</span>
                View MLG Clan Details
              </button>
            </div>
          </div>

          <!-- Recent Activity -->
          <div class="card-glow rounded-xl p-6">
            <h3 class="text-xl font-bold text-gaming-blue mb-4 flex items-center">
              <i data-lucide="activity" class="w-5 h-5 mr-2"></i>
              Recent Activity
            </h3>
            <div class="space-y-3">
              <div class="flex items-center space-x-3 p-2 bg-gaming-surface rounded">
                <i data-lucide="vote" class="w-4 h-4 text-gaming-accent"></i>
                <div class="flex-1">
                  <div class="text-sm font-medium">Voted on content</div>
                  <div class="text-xs text-gray-400">2 hours ago</div>
                </div>
              </div>
              <div class="flex items-center space-x-3 p-2 bg-gaming-surface rounded">
                <i data-lucide="trophy" class="w-4 h-4 text-gaming-yellow"></i>
                <div class="flex-1">
                  <div class="text-sm font-medium">Won tournament match</div>
                  <div class="text-xs text-gray-400">1 day ago</div>
                </div>
              </div>
              <div class="flex items-center space-x-3 p-2 bg-gaming-surface rounded">
                <i data-lucide="upload" class="w-4 h-4 text-gaming-blue"></i>
                <div class="flex-1">
                  <div class="text-sm font-medium">Uploaded content</div>
                  <div class="text-xs text-gray-400">2 days ago</div>
                </div>
              </div>
              <div class="flex items-center space-x-3 p-2 bg-gaming-surface rounded">
                <i data-lucide="coins" class="w-4 h-4 text-gaming-purple"></i>
                <div class="flex-1">
                  <div class="text-sm font-medium">Staked 100 MLG</div>
                  <div class="text-xs text-gray-400">3 days ago</div>
                </div>
              </div>
            </div>
          </div>

        </div>

        <!-- Middle Column -->
        <div class="space-y-8">
          
          <!-- Gaming Skills -->
          <div class="card-glow rounded-xl p-6">
            <h3 class="text-xl font-bold text-gaming-accent mb-4 flex items-center">
              <i data-lucide="gamepad-2" class="w-5 h-5 mr-2"></i>
              Gaming Skills
            </h3>
            <div class="space-y-4">
              <div>
                <div class="flex justify-between items-center mb-2">
                  <span class="text-sm font-medium">Valorant</span>
                  <span class="text-sm text-gaming-accent font-bold">Radiant</span>
                </div>
                <div class="skill-progress h-2">
                  <div class="skill-fill" style="width: 95%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between items-center mb-2">
                  <span class="text-sm font-medium">Rocket League</span>
                  <span class="text-sm text-gaming-blue font-bold">Grand Champion</span>
                </div>
                <div class="skill-progress h-2">
                  <div class="skill-fill" style="width: 88%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between items-center mb-2">
                  <span class="text-sm font-medium">CS:GO</span>
                  <span class="text-sm text-gaming-purple font-bold">Global Elite</span>
                </div>
                <div class="skill-progress h-2">
                  <div class="skill-fill" style="width: 82%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between items-center mb-2">
                  <span class="text-sm font-medium">Fortnite</span>
                  <span class="text-sm text-gaming-yellow font-bold">Champion</span>
                </div>
                <div class="skill-progress h-2">
                  <div class="skill-fill" style="width: 75%"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Achievements -->
          <div class="card-glow rounded-xl p-6">
            <h3 class="text-xl font-bold text-gaming-yellow mb-4 flex items-center">
              <i data-lucide="award" class="w-5 h-5 mr-2"></i>
              Achievements
            </h3>
            <div class="grid grid-cols-3 gap-4">
              <div class="achievement-badge bg-gaming-surface rounded-lg p-3 text-center">
                <i data-lucide="trophy" class="w-8 h-8 text-gaming-yellow mx-auto mb-2"></i>
                <div class="text-xs font-bold">Tournament Winner</div>
              </div>
              <div class="achievement-badge bg-gaming-surface rounded-lg p-3 text-center">
                <i data-lucide="target" class="w-8 h-8 text-gaming-red mx-auto mb-2"></i>
                <div class="text-xs font-bold">Headshot King</div>
              </div>
              <div class="achievement-badge bg-gaming-surface rounded-lg p-3 text-center">
                <i data-lucide="users" class="w-8 h-8 text-gaming-purple mx-auto mb-2"></i>
                <div class="text-xs font-bold">Team Player</div>
              </div>
              <div class="achievement-badge bg-gaming-surface rounded-lg p-3 text-center">
                <i data-lucide="flame" class="w-8 h-8 text-gaming-accent mx-auto mb-2"></i>
                <div class="text-xs font-bold">Vote Burner</div>
              </div>
              <div class="achievement-badge bg-gaming-surface rounded-lg p-3 text-center">
                <i data-lucide="star" class="w-8 h-8 text-gaming-blue mx-auto mb-2"></i>
                <div class="text-xs font-bold">Rising Star</div>
              </div>
              <div class="achievement-badge bg-gaming-surface rounded-lg p-3 text-center">
                <i data-lucide="clock" class="w-8 h-8 text-gray-400 mx-auto mb-2"></i>
                <div class="text-xs font-bold text-gray-400">Locked</div>
              </div>
            </div>
          </div>

          <!-- Statistics -->
          <div class="card-glow rounded-xl p-6">
            <h3 class="text-xl font-bold text-gaming-blue mb-4 flex items-center">
              <i data-lucide="bar-chart-3" class="w-5 h-5 mr-2"></i>
              Statistics
            </h3>
            <div class="grid grid-cols-2 gap-4">
              <div class="bg-gaming-surface rounded-lg p-3 text-center">
                <div class="text-2xl font-bold text-gaming-accent">89%</div>
                <div class="text-xs text-gray-400">Win Rate</div>
              </div>
              <div class="bg-gaming-surface rounded-lg p-3 text-center">
                <div class="text-2xl font-bold text-gaming-blue">2.4</div>
                <div class="text-xs text-gray-400">K/D Ratio</div>
              </div>
              <div class="bg-gaming-surface rounded-lg p-3 text-center">
                <div class="text-2xl font-bold text-gaming-purple">247</div>
                <div class="text-xs text-gray-400">Hours Played</div>
              </div>
              <div class="bg-gaming-surface rounded-lg p-3 text-center">
                <div class="text-2xl font-bold text-gaming-yellow">156</div>
                <div class="text-xs text-gray-400">Matches Won</div>
              </div>
            </div>
          </div>

        </div>

        <!-- Right Column -->
        <div class="space-y-8">
          
          <!-- Content & Contributions -->
          <div class="card-glow rounded-xl p-6">
            <h3 class="text-xl font-bold text-gaming-blue mb-4 flex items-center">
              <i data-lucide="video" class="w-5 h-5 mr-2"></i>
              Content & Contributions
            </h3>
            <div class="space-y-4">
              
              <!-- Content Stats -->
              <div class="grid grid-cols-2 gap-4">
                <div class="bg-gaming-surface rounded-lg p-3 text-center">
                  <div class="text-xl font-bold text-gaming-blue">23</div>
                  <div class="text-xs text-gray-400">Videos Uploaded</div>
                </div>
                <div class="bg-gaming-surface rounded-lg p-3 text-center">
                  <div class="text-xl font-bold text-gaming-purple">847</div>
                  <div class="text-xs text-gray-400">Votes Cast</div>
                </div>
              </div>

              <!-- Recent Content -->
              <div class="space-y-3">
                <h4 class="text-sm font-bold text-gray-300">Recent Uploads</h4>
                <div class="flex items-center space-x-3 p-2 bg-gaming-surface rounded">
                  <div class="w-12 h-8 bg-gradient-to-r from-red-500 to-purple-600 rounded"></div>
                  <div class="flex-1">
                    <div class="text-sm font-medium">Epic 1v5 Clutch</div>
                    <div class="text-xs text-gray-400">2 days ago ‚Ä¢ 847 votes</div>
                  </div>
                </div>
                <div class="flex items-center space-x-3 p-2 bg-gaming-surface rounded">
                  <div class="w-12 h-8 bg-gradient-to-r from-blue-500 to-teal-600 rounded"></div>
                  <div class="flex-1">
                    <div class="text-sm font-medium">Perfect Rocket League Goal</div>
                    <div class="text-xs text-gray-400">1 week ago ‚Ä¢ 623 votes</div>
                  </div>
                </div>
              </div>
              
              <button class="w-full bg-gaming-blue hover:bg-blue-600 px-4 py-2 rounded-lg font-bold transition-colors">
                Upload New Content
              </button>
            </div>
          </div>

          <!-- Friends & Following -->
          <div class="card-glow rounded-xl p-6">
            <h3 class="text-xl font-bold text-gaming-purple mb-4 flex items-center">
              <i data-lucide="user-plus" class="w-5 h-5 mr-2"></i>
              Friends & Following
            </h3>
            <div class="space-y-4">
              <div class="grid grid-cols-2 gap-4">
                <div class="bg-gaming-surface rounded-lg p-3 text-center">
                  <div class="text-xl font-bold text-gaming-purple">47</div>
                  <div class="text-xs text-gray-400">Friends</div>
                </div>
                <div class="bg-gaming-surface rounded-lg p-3 text-center">
                  <div class="text-xl font-bold text-gaming-accent">156</div>
                  <div class="text-xs text-gray-400">Following</div>
                </div>
              </div>
              
              <div class="space-y-2">
                <h4 class="text-sm font-bold text-gray-300">Recently Online</h4>
                <div class="flex items-center space-x-2 p-2 bg-gaming-surface rounded">
                  <div class="w-6 h-6 bg-gradient-to-r from-gaming-accent to-gaming-blue rounded-full"></div>
                  <span class="text-sm flex-1">AerialMaster</span>
                  <div class="w-2 h-2 bg-gaming-accent rounded-full"></div>
                </div>
                <div class="flex items-center space-x-2 p-2 bg-gaming-surface rounded">
                  <div class="w-6 h-6 bg-gradient-to-r from-gaming-purple to-gaming-red rounded-full"></div>
                  <span class="text-sm flex-1">HeadshotHero</span>
                  <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                </div>
                <div class="flex items-center space-x-2 p-2 bg-gaming-surface rounded">
                  <div class="w-6 h-6 bg-gradient-to-r from-gaming-yellow to-gaming-red rounded-full"></div>
                  <span class="text-sm flex-1">ClanLeader99</span>
                  <div class="w-2 h-2 bg-gaming-accent rounded-full"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Settings & Preferences -->
          <div class="card-glow rounded-xl p-6">
            <h3 class="text-xl font-bold text-gaming-accent mb-4 flex items-center">
              <i data-lucide="settings" class="w-5 h-5 mr-2"></i>
              Settings & Preferences
            </h3>
            <div class="space-y-4">
              <div class="flex items-center justify-between">
                <span class="text-sm">Public Profile</span>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" class="sr-only peer" checked>
                  <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gaming-accent"></div>
                </label>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm">Show Online Status</span>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" class="sr-only peer" checked>
                  <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gaming-accent"></div>
                </label>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm">Tournament Notifications</span>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" class="sr-only peer" checked>
                  <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gaming-accent"></div>
                </label>
              </div>
              
              <button class="w-full bg-gaming-surface hover:bg-gaming-accent hover:text-black px-4 py-2 rounded-lg font-bold transition-colors">
                Advanced Settings
              </button>
            </div>
          </div>

        </div>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-black bg-opacity-80 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <a href="index.html" onclick="handleNavigation(event, 'index.html')" class="text-2xl font-bold mb-4 text-gaming-accent hover:text-green-400 transition-colors inline-block">üéÆ MLG.clan</a>
        <p class="text-gray-400 mb-6">The future of gaming communities is here.</p>
        <div class="flex justify-center space-x-8 text-sm text-gray-500">
          <span>Web3 Native</span>
          <span>‚Ä¢</span>
          <span>Enterprise Ready</span>
          <span>‚Ä¢</span>
          <span>Community Governed</span>
          <span>‚Ä¢</span>
          <span>100% Complete</span>
        </div>
      </div>
    </div>
  </footer>

  <!-- Edit Profile Modal -->
  <div id="edit-profile-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-gaming-surface border border-gaming-accent rounded-lg p-6 max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
      <div class="flex justify-between items-center mb-6">
        <h3 class="text-2xl font-bold text-gaming-accent">‚úèÔ∏è Edit Profile</h3>
        <button id="close-edit-modal" class="text-gray-400 hover:text-white text-2xl">&times;</button>
      </div>
      
      <form id="edit-profile-form" class="space-y-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2">Display Name</label>
            <input type="text" id="edit-display-name" class="w-full bg-gaming-bg border border-gaming-accent border-opacity-20 rounded-lg px-4 py-2 text-white focus:border-gaming-accent focus:outline-none" placeholder="Your display name">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2">Gaming Tag</label>
            <input type="text" id="edit-gaming-tag" class="w-full bg-gaming-bg border border-gaming-accent border-opacity-20 rounded-lg px-4 py-2 text-white focus:border-gaming-accent focus:outline-none" placeholder="YourTag#1234">
          </div>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-2">Bio</label>
          <textarea id="edit-bio" rows="3" class="w-full bg-gaming-bg border border-gaming-accent border-opacity-20 rounded-lg px-4 py-2 text-white focus:border-gaming-accent focus:outline-none resize-none" placeholder="Tell others about yourself..."></textarea>
          <div class="text-xs text-gray-400 mt-1">
            <span id="bio-char-count">0</span>/500 characters
          </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2">Main Game</label>
            <select id="edit-main-game" class="w-full bg-gaming-bg border border-gaming-accent border-opacity-20 rounded-lg px-4 py-2 text-white focus:border-gaming-accent focus:outline-none">
              <option value="">Select your main game</option>
              <option value="valorant">Valorant</option>
              <option value="apex">Apex Legends</option>
              <option value="fortnite">Fortnite</option>
              <option value="csgo">CS:GO</option>
              <option value="warzone">Call of Duty: Warzone</option>
              <option value="overwatch">Overwatch 2</option>
              <option value="rocket-league">Rocket League</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2">Skill Level</label>
            <select id="edit-skill-level" class="w-full bg-gaming-bg border border-gaming-accent border-opacity-20 rounded-lg px-4 py-2 text-white focus:border-gaming-accent focus:outline-none">
              <option value="">Select skill level</option>
              <option value="casual">Casual</option>
              <option value="competitive">Competitive</option>
              <option value="semi-pro">Semi-Pro</option>
              <option value="professional">Professional</option>
            </select>
          </div>
        </div>
        
        <div class="flex space-x-3 mt-6">
          <button type="submit" class="flex-1 bg-gaming-accent hover:bg-green-400 text-black px-4 py-2 rounded font-bold transition-colors">
            üíæ Save Changes
          </button>
          <button type="button" id="cancel-edit" class="flex-1 bg-gray-600 hover:bg-gray-500 px-4 py-2 rounded font-bold transition-colors">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Profile Platform
    class ProfilePlatform {
      constructor() {
        // Load saved profile from localStorage or use defaults
        const savedProfile = localStorage.getItem('mlg_user_profile');
        this.userProfile = savedProfile ? JSON.parse(savedProfile) : {
          name: 'ProGamer2024',
          tag: 'PG2024#1337',
          bio: 'Competitive gamer and content creator',
          mainGame: 'valorant',
          skillLevel: 'competitive',
          level: 47,
          wins: 1247,
          tournaments: 23,
          earnings: 12400,
          mlgBalance: 1250,
          solBalance: 2.45,
          stakedAmount: 500,
          nftCount: 7
        };
        this.walletData = null;
        this.profileData = null;
        this.init();
      }
      
      async init() {
        console.log('üë§ Initializing Profile Platform...');
        
        this.initializeUI();
        this.setupEventListeners();
        
        // Load data from API
        await this.loadProfileData();
        
        this.startRealTimeUpdates();
        console.log('‚úÖ Profile Platform initialized successfully!');
      }
      
      initializeUI() {
        if (typeof lucide !== 'undefined') {
          lucide.createIcons();
        }
        this.updateProfileDisplay();
      }
      
      setupEventListeners() {
        // Edit profile button
        document.getElementById('edit-profile').addEventListener('click', () => {
          this.openEditModal();
        });
        
        // Share profile button
        document.getElementById('share-profile').addEventListener('click', () => {
          this.shareProfile();
        });
        
        // Copy wallet address
        document.querySelector('#wallet-address button').addEventListener('click', () => {
          this.copyWalletAddress();
        });
      }
      
      updateProfileDisplay() {
        // Update profile stats with pulse effects
        const elements = {
          'profile-level': this.userProfile.level,
          'profile-wins': this.userProfile.wins.toLocaleString(),
          'profile-tournaments': this.userProfile.tournaments,
          'profile-earnings': '$' + (this.userProfile.earnings / 1000).toFixed(1) + 'K',
          'wallet-mlg': this.userProfile.mlgBalance.toLocaleString(),
          'wallet-sol': this.userProfile.solBalance.toFixed(2),
          'staked-amount': this.userProfile.stakedAmount.toLocaleString(),
          'nft-count': this.userProfile.nftCount
        };
        
        Object.entries(elements).forEach(([id, value]) => {
          const element = document.getElementById(id);
          if (element) {
            element.textContent = value;
            // Add pulse effect for updates
            element.classList.add('animate-pulse-neon');
            setTimeout(() => {
              element.classList.remove('animate-pulse-neon');
            }, 1000);
          }
        });
      }
      
      openEditModal() {
        console.log('‚úèÔ∏è Opening edit profile modal...');
        
        // Populate form with current profile data
        document.getElementById('edit-display-name').value = this.userProfile.name || '';
        document.getElementById('edit-gaming-tag').value = this.userProfile.tag || '';
        document.getElementById('edit-bio').value = this.userProfile.bio || '';
        document.getElementById('edit-main-game').value = this.userProfile.mainGame || '';
        document.getElementById('edit-skill-level').value = this.userProfile.skillLevel || '';
        
        // Update character counter
        this.updateBioCharCounter();
        
        // Show modal
        document.getElementById('edit-profile-modal').classList.remove('hidden');
        
        // Set up modal event listeners
        this.setupModalEventListeners();
      }
      
      setupModalEventListeners() {
        // Close modal buttons
        document.getElementById('close-edit-modal').onclick = () => this.closeEditModal();
        document.getElementById('cancel-edit').onclick = () => this.closeEditModal();
        
        // Bio character counter
        document.getElementById('edit-bio').addEventListener('input', () => {
          this.updateBioCharCounter();
        });
        
        // Form submission
        document.getElementById('edit-profile-form').addEventListener('submit', (e) => {
          e.preventDefault();
          this.saveProfileChanges();
        });
        
        // Close on outside click
        document.getElementById('edit-profile-modal').addEventListener('click', (e) => {
          if (e.target.id === 'edit-profile-modal') {
            this.closeEditModal();
          }
        });
        
        // Escape key to close
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && !document.getElementById('edit-profile-modal').classList.contains('hidden')) {
            this.closeEditModal();
          }
        });
      }
      
      closeEditModal() {
        document.getElementById('edit-profile-modal').classList.add('hidden');
        console.log('‚ùå Edit profile modal closed');
      }
      
      updateBioCharCounter() {
        const bioText = document.getElementById('edit-bio').value;
        const charCount = bioText.length;
        const counter = document.getElementById('bio-char-count');
        
        counter.textContent = charCount;
        
        // Update color based on character count
        if (charCount > 450) {
          counter.parentElement.className = counter.parentElement.className.replace(/text-gray-400|text-gaming-yellow/, 'text-gaming-red');
        } else if (charCount > 350) {
          counter.parentElement.className = counter.parentElement.className.replace(/text-gray-400|text-gaming-red/, 'text-gaming-yellow');
        } else {
          counter.parentElement.className = counter.parentElement.className.replace(/text-gaming-red|text-gaming-yellow/, 'text-gray-400');
        }
      }
      
      async saveProfileChanges() {
        console.log('üíæ Saving profile changes...');
        
        const formData = {
          displayName: document.getElementById('edit-display-name').value.trim(),
          gamingTag: document.getElementById('edit-gaming-tag').value.trim(),
          bio: document.getElementById('edit-bio').value.trim(),
          mainGame: document.getElementById('edit-main-game').value,
          skillLevel: document.getElementById('edit-skill-level').value
        };
        
        // Validate required fields
        if (!formData.displayName) {
          this.showNotification('‚ö†Ô∏è Display name is required!', 'warning');
          return;
        }
        
        try {
          // Update local profile data
          this.userProfile.name = formData.displayName;
          this.userProfile.tag = formData.gamingTag;
          this.userProfile.bio = formData.bio;
          this.userProfile.mainGame = formData.mainGame;
          this.userProfile.skillLevel = formData.skillLevel;
          
          // Update display
          this.updateProfileDisplay();
          
          // Close modal
          this.closeEditModal();
          
          // Show success notification
          this.showNotification('‚úÖ Profile updated successfully!', 'success');
          
          // Persist to localStorage for demo
          localStorage.setItem('mlg_user_profile', JSON.stringify(this.userProfile));
          
          // In a real implementation, this would save to API
          if (window.MLGApiClient && typeof window.MLGApiClient.updateProfile === 'function') {
            await window.MLGApiClient.updateProfile(formData);
            console.log('üì° Profile saved to server');
          } else {
            console.log('üíæ Profile saved locally (API not available)');
          }
          
        } catch (error) {
          console.error('Failed to save profile:', error);
          this.showNotification('‚ùå Failed to save profile changes', 'error');
        }
      }
      
      shareProfile() {
        const profileUrl = window.location.origin + '/profile?user=' + this.userProfile.name;
        
        if (navigator.share) {
          navigator.share({
            title: `${this.userProfile.name}'s MLG.clan Profile`,
            text: `Check out my gaming profile on MLG.clan!`,
            url: profileUrl
          });
        } else {
          // Fallback to clipboard
          navigator.clipboard.writeText(profileUrl).then(() => {
            this.showNotification('üìã Profile link copied to clipboard!', 'success');
          });
        }
      }
      
      copyWalletAddress() {
        const fullAddress = 'BQH7x8K9m2N3p4Q5r6S7t8U9v0W1x2Y3z4A5b6C7d8E9f0G1h2I3j4K5l6M7n8O9p0Q1r2S3t4U5v6W7x8Y9z0A1b2C3d4E5f6G7h8I9j0K1l2M3n4O5p6Q7r8S9t0U1v2W3x9K2';
        
        navigator.clipboard.writeText(fullAddress).then(() => {
          this.showNotification('üìã Wallet address copied!', 'success');
        }).catch(() => {
          this.showNotification('‚ùå Failed to copy address', 'error');
        });
      }
      
      async loadProfileData() {
        try {
          console.log('üìä Loading profile data from API...');
          
          // Show loading state
          window.mlgApi?.showLoading('main', {
            message: 'Loading profile data...',
            type: 'dashboard'
          });
          
          // Load wallet and user data from APIs
          const [walletResponse, statusResponse] = await Promise.allSettled([
            window.mlgApi.getWallet(),
            window.mlgApi.getStatus()
          ]);
          
          // Process wallet data
          if (walletResponse.status === 'fulfilled' && walletResponse.value.success) {
            this.walletData = walletResponse.value;
            
            // Update user profile with wallet data
            if (walletResponse.value.wallet) {
              this.userProfile.mlgBalance = walletResponse.value.wallet.balance?.mlg || this.userProfile.mlgBalance;
              this.userProfile.solBalance = walletResponse.value.wallet.balance?.sol || this.userProfile.solBalance;
            }
          }
          
          // Process platform status for additional stats
          if (statusResponse.status === 'fulfilled' && statusResponse.value.success) {
            this.profileData = statusResponse.value;
            // Could update user stats based on platform data if available
          }
          
          // Update display with API data
          this.updateProfileDisplay();
          
          console.log('‚úÖ Profile data loaded from API');
          this.showNotification('üë§ Profile loaded successfully!', 'success');
          
        } catch (error) {
          console.error('Failed to load profile data:', error);
          
          // Show error notification
          this.showNotification('Failed to load profile data. Using fallback.', 'warning');
          
          // Use fallback data
          this.updateProfileDisplay();
        } finally {
          // Hide loading state
          window.mlgApi?.hideLoading('main');
        }
      }
      
      startRealTimeUpdates() {
        // Start real-time updates for wallet balance
        console.log('üîÑ Starting real-time profile updates...');
        
        // Update wallet data every 20 seconds
        window.mlgApi?.startRealTimeUpdates('/wallet', (data) => {
          if (data.success && data.wallet) {
            this.walletData = data;
            
            // Update profile with new wallet data
            this.userProfile.mlgBalance = data.wallet.balance?.mlg || this.userProfile.mlgBalance;
            this.userProfile.solBalance = data.wallet.balance?.sol || this.userProfile.solBalance;
            
            this.updateProfileDisplay();
          }
        }, 20000);
      }
      
      showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 px-6 py-3 rounded-lg text-white font-medium z-50 transition-all transform translate-x-full ${
          type === 'success' ? 'bg-gaming-accent text-black' :
          type === 'error' ? 'bg-gaming-red' :
          type === 'warning' ? 'bg-gaming-yellow text-black' :
          'bg-gaming-blue'
        }`;
        
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.classList.remove('translate-x-full');
        }, 100);
        
        setTimeout(() => {
          notification.classList.add('translate-x-full');
          setTimeout(() => {
            if (document.body.contains(notification)) {
              document.body.removeChild(notification);
            }
          }, 300);
        }, 4000);
      }
    }
    
    // Universal navigation handler for both SPA and multi-page modes
    function handleNavigation(event, pageUrl) {
      // Check if SPA router is available and ready
      if (window.router && window.router.push && typeof window.router.push === 'function') {
        event.preventDefault();
        const routePath = '/' + pageUrl.replace('.html', '').replace('index', 'dashboard');
        window.router.push(routePath);
      }
      // If no SPA router, let the default link behavior happen (multi-page navigation)
    }
    
    // Active navigation state management for profile page
    function updateActiveNavigation(currentPage) {
      // Remove active class from all nav links
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('bg-gaming-accent', 'text-black');
        link.classList.add('text-gray-300');
      });
      
      // Profile page doesn't have a nav link in the main menu
      // but we can highlight the profile icon in the user menu
      if (currentPage === 'profile.html') {
        const profileIcon = document.querySelector('a[href="profile.html"]');
        if (profileIcon) {
          profileIcon.classList.add('text-gaming-accent');
          profileIcon.classList.remove('text-gray-300');
        }
      }
    }
    
    // Make navigation functions globally available
    window.handleNavigation = handleNavigation;
    window.updateActiveNavigation = updateActiveNavigation;
    
    // Initialize when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      new ProfilePlatform();
    });
  </script>
</body>
</html>